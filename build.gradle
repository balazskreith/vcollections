//The maven plugin has been deprecated. This is scheduled to be removed in Gradle 7.0. Please use the maven-publish plugin instead.
//        The compile configuration has been deprecated for dependency declaration. This will fail with an error in Gradle 7.0. Please use the implementation configuration instead.
//at build_f5ctilzhkt4w0wyo37h9iw45i$_run_closure2.doCall(/Users/balazskreith.finago/github/vcollections/build.gradle:24)
//(Run with --stacktrace to get the full stack trace of this deprecation warning.)
plugins {
    id 'java'
    id "com.jfrog.bintray" version "1.7"
}

group 'com.wobserver'
version '0.7.0'

sourceCompatibility = 1.12
targetCompatibility = 1.12

repositories {
    mavenCentral()
    jcenter()
}


dependencies {
//    testCompile group: 'junit', name: 'junit', version: '5.0'
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.4.2'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.4.2'
//    compile 'org.mongodb:mongodb-driver-sync:3.11.1'
//    compile 'com.fasterxml.jackson.core:jackson-core:2.10.0'
//    compile 'com.fasterxml.jackson.core:jackson-annotations:2.10.0'
    compile group: 'org.slf4j', name: 'slf4j-simple', version: '1.6.1'


    compile group: 'javax.validation', name: 'validation-api', version: '1.0.0.GA'
    compile group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-yaml', version: '2.5.0'
    compile 'com.fasterxml.jackson.core:jackson-databind:2.10.0'
    compile group: 'javax.validation', name: 'validation-api', version: '2.0.1.Final'
    compile group: 'org.hibernate', name: 'hibernate-validator', version: '4.2.0.Final'
    implementation "jakarta.xml.bind:jakarta.xml.bind-api:2.3.2"
    implementation "org.glassfish.jaxb:jaxb-runtime:2.3.2"
    // For Redis
    compile 'io.lettuce:lettuce-core:5.2.1.RELEASE'
}

test {
    useJUnitPlatform()
}

wrapper {
    distributionType = Wrapper.DistributionType.ALL
}

publishing {
    publications {
        vcollections(MavenPublication) {
            from components.java
            groupId project.group
            artifactId 'vcollections-coree'
            version project.version
        }
    }
}

bintray {
    user = project.hasProperty('bintrayUser') ? project.property('bintrayUser') : System.getenv('BINTRAY_USER')
    key = project.hasProperty('bintrayApiKey') ? project.property('bintrayApiKey') : System.getenv('BINTRAY_API_KEY')
    publications = ['vcollections']
    pkg {
        repo = 'vcollections'
        name = 'vcollectinos-core'
        userOrg = 'wobserver'
        licenses = ['GNUGPL-3.0']
        vcsUrl = 'https://github.com/balazskreith/vcollections.git'
        labels = ['collections', 'virtualization', 'flexible', 'storage']
        publicDownloadNumbers = true
        version {
            name = '0.7-Beta'
            desc = 'This is a description for vcollections'
            vcsTag = '0.7.0'
        }
    }
}